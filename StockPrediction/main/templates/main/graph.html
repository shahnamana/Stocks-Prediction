{% extends 'main/base.html' %}
{% block title %} Predictions {% endblock %}
{% block content %}

<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript">
    google.load("visualization", "1", {packages:["corechart"]});
</script>
<center>
	<div class="p-3">
		<h1>
			Predicted value of prices for the next 10 days
		</h1>
	</div>
	<div class="p-3">
		<h3>Stock symbol: <b>{{name}}</b></h3>
		<br>
		<p><b>Max value</b>: Rs. {{max}}<span class="p-2"><b>Date</b>: {{max_date}}</span></p>
		<p><b>Min value</b>: Rs. {{min}}<span class="p-2"><b>Date</b>: {{min_date}}</span></p>
	</div>
	{{ chart.as_html }}	
</center>

<!-- <script src="http://yui.yahooapis.com/3.10.0/build/yui/yui-min.js"></script> -->



<!-- <div id="chartContainer" style="height: 370px; max-width: 920px; margin: 0px auto;"></div>
<script>
	var prices = JSON.parse("{{final_dict|escapejs}}");
	window.onload = function (prices) {

	var chart = new CanvasJS.Chart("chartContainer");
	chart.options.theme="light2";
	chart.options.animationEnabled= true;
	chart.options.axisX={
		title: "Dates",
	interval: 1,
	intervalType: "month",
	valueFormatString: "DD MMM"
	};
	chart.options.axisY={
	title: "Price (in Rupees)",
	includeZero: false,
	minimum: 345,
	maximun: 365
	};

	chart.options.title = { text: "State Bank of India" };
	var series1 = { //dataSeries - first quarter
        type: "line",
		markerSize: 12,
		xValueFormatString: "DD MMM, YYYY",

    };

	chart.options.data=[];
	chart.options.data.push(series1);
	series1.dataPoints=[];
	for(var key in prices){
		series1.dataPoints.push({x:key, y:prices[key]});
	}
	chart.render();

	}
	</script>

<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script> -->
<!-- <div class="container">
	{%for key, value in final_dict.items%}
		{{key}} {{value}} <br>
	{%endfor%}
</div> -->
{% endblock %}
